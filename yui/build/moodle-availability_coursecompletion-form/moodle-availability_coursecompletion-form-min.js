YUI.add("moodle-availability_coursecompletion-form",function(e,o){M.availability_coursecompletion=M.availability_coursecompletion||{},M.availability_coursecompletion.form=e.Object(M.core_availability.plugin),M.availability_coursecompletion.form.courses=null,M.availability_coursecompletion.form.initInner=function(e){this.courses=e},M.availability_coursecompletion.form.getNode=function(o){for(var i=M.str.availability_coursecompletion,l=i.title+' <span class="availability-group"><label><span class="accesshide">'+i.label_course+' </span><select name="courseid" title="'+i.label_course+'"><option value="0">'+M.str.moodle.choosedots+"</option>",a=0;a<this.courses.length;a++)fieldInfo=this.courses[a],l+='<option value="c_'+fieldInfo.field+'">'+fieldInfo.display+"</option>";l+="</select></label></span>";var t=e.Node.create("<span>"+l+"</span>");(void 0!==o.c&&t.one("select[name=courseid] > option[value=c_"+o.c+"]")&&t.one("select[name=courseid]").set("value","c_"+o.c),M.availability_coursecompletion.form.addedEvents)||(M.availability_coursecompletion.form.addedEvents=!0,e.one("#fitem_id_availabilityconditionsjson").delegate("change",function(){M.core_availability.form.update()},".availability_coursecompletion select"));return t},M.availability_coursecompletion.form.fillValue=function(e,o){var i=o.one("select[name=courseid]").get("value");"c_"===i.substr(0,2)&&(e.c=i.substr(2))},M.availability_coursecompletion.form.fillErrors=function(e,o){var i={};this.fillValue(i,o),void 0===i.c&&e.push("availability_coursecompletion:error_nocourse")}},"@VERSION@",{requires:["base","node","event","moodle-core_availability-form"]});